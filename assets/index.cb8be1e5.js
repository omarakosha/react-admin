var E=Object.defineProperty,I=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var C=(s,e,a)=>e in s?E(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a,S=(s,e)=>{for(var a in e||(e={}))q.call(e,a)&&C(s,a,e[a]);if(N)for(var a of N(e))H.call(e,a)&&C(s,a,e[a]);return s},w=(s,e)=>I(s,O(e));import{r as L}from"./index.e02f0aaf.js";import{r as o,b as v,j as r}from"./vendor.bfd33073.js";import{M as P}from"./index.d31622b7.js";import{M as D}from"./index.c8ded8f2.js";import{M as U}from"./index.43c8ea03.js";import{M as z}from"./index.edf5aa99.js";import{M as F}from"./index.c67ca5f4.js";const te=s=>L("get","/business/list",s);function G(s){const[e,a]=o.exports.useState(s);return[e,l=>a(c=>Object.assign({},c,l))]}const J=(s,e)=>{const{pageApi:a,pageParams:f,searchRender:l,tableOptions:c,tableRender:u,asideKey:g,asideData:n,asideValue:A,asideTreeItemRender:R,radioCardsData:x,radioCardsValue:T,tabsData:h,tabsValue:V}=s,[t,y]=G({pageSize:20,pageNum:1,total:0,data:[]}),[d,b]=o.exports.useState(A);o.exports.useEffect(()=>{n&&b(n[0].key)},[n]);const m=o.exports.useCallback(async(i={})=>{if(!(g&&!d)&&a){const p=w(S(S({},i),f),{pageSize:t.pageSize,pageNum:t.pageNum,[g]:d}),M=await a(p);M.status&&y({total:M.result.total,data:M.result.data})}},[a,f,t.pageSize,t.pageNum,g,d]);o.exports.useEffect(()=>{m()},[m]);const k=i=>{m(i)},K=([i])=>{b(i)},B=(i,p)=>{y({pageNum:i}),p&&y({pageSize:p})};return o.exports.useImperativeHandle(e,()=>({setAsideCheckedKey:b,load:i=>m(i)})),v("div",{css:W,children:[h&&r(F,{className:"tabs",options:h,defaultValue:h[0].value||V}),v("div",{className:"tabs-main",children:[n&&r(D,{options:n,selectedKeys:d?[d]:void 0,titleRender:R,onSelect:K}),v("div",{className:"aside-main",children:[l&&r(z,{className:"search",onSearch:k,children:l}),x&&r(U,{options:x,defaultValue:T||x[0].value}),c&&r("div",{className:"table",children:r(P,{height:"100%",dataSource:t.data,columns:c,pagination:{current:t.pageNum,pageSize:t.pageSize,total:t.total,onChange:B},children:u==null?void 0:u(t.data)})})]})]})]})},Q=o.exports.forwardRef(J),j=Q;j.MySearch=z;j.MyTable=P;j.MyAside=D;const W={name:"1hurv70",styles:"display:flex;flex-direction:column;.tabs-main{flex:1;display:flex;overflow:hidden;}.search{margin-bottom:10px;}.aside-main{display:flex;flex:1;overflow:hidden;flex-direction:column;@media screen and (max-height: 800px){overflow:auto;}}.table{flex:1;overflow:hidden;@media screen and (max-height: 800px){overflow:auto;min-height:500px;}}"};export{j as M,te as g};
